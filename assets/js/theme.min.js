var certy={vars:{rtl:!1,themeColor:"#d14b4a"}},aceOptions={rtl:!1,color:"#c0e3e7",progress:{animation:!0,textColor:"inherit",trailColor:"rgba(0,0,0,0.07)"},nav:{height:"auto",arrow:!1},slider:{obj:"",speed:"",dots:!0}},ace={html:"",body:"",mobile:"",themeColor:"",header:{head:"",col1:"",col2:"",col3:""},sidebar:{obj:"",btn:""},nav:{obj:"",tooltip:$('<div class="ace-tooltip"></div>')},overlay:{obj:$('<div id="ace-overlay"></div>')},progress:{lines:"",charts:"",bullets:""}};certy.initGlobalVars=function(){this.vars.html=$("html"),this.vars.body=$("body"),this.vars.windowW=$(window).width(),this.vars.windowH=$(window).height(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(this.vars.mobile=!0,this.vars.html.addClass("mobile")):(this.vars.mobile=!1,this.vars.html.addClass("desktop"))},certy.lockScroll=function(){var e=certy.vars.html.outerWidth(),t=certy.vars.body.outerHeight(),o=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];certy.vars.html.data("scroll-position",o),certy.vars.html.data("previous-overflow",certy.vars.html.css("overflow")),certy.vars.html.css("overflow","hidden"),window.scrollTo(o[0],o[1]);var a=certy.vars.body.outerWidth()-e,r=certy.vars.body.outerHeight()-t;certy.vars.body.css({"margin-right":a,"margin-bottom":r}),certy.vars.html.addClass("lock-scroll")},certy.unlockScroll=function(){certy.vars.html.css("overflow",certy.vars.html.data("previous-overflow"));var e=certy.vars.html.data("scroll-position");window.scrollTo(e[0],e[1]),certy.vars.body.css({"margin-right":0,"margin-bottom":0}),certy.vars.html.removeClass("lock-scroll")},certy.slider=function(e){for(var t=0;t<e.length;t++)"none"!=$(e[t]).data("init")&&$(e[t]).slick()},certy.carousel=function(e){for(var t=0;t<e.length;t++)"none"!==$(e[t]).data("init")&&$(e[t]).slick({dots:!0})},certy.portfolio={},certy.portfolio.initGrid=function(e){var t=e.isotope({isOriginLeft:!certy.vars.rtl,itemSelector:".pf-grid-item",percentPosition:!0,masonry:{columnWidth:".pf-grid-sizer"}});t.imagesLoaded().progress(function(){t.isotope("layout")});var o=e.closest(".pf-wrap").find(".pf-filter");if(o.length>0){var a=o.find("button"),r=$(".pf-filter button:first-child");r.addClass("active"),a.on("click",function(){a.removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-filter");t.isotope({filter:e})})}},certy.portfolio.openPopup=function(e){certy.vars.html.addClass("cr-portfolio-opened"),this.popup_wrapper=$('<div id="pf-popup-wrap"><div class="pf-popup-inner"><div class="pf-popup-middle"><div class="pf-popup-container"><button id="pf-popup-close"><i class="rsicon rsicon-close"></i></button><div id="pf-popup-content" class="pf-popup-content"></div></div></div></div></div>'),certy.vars.body.append(this.popup_wrapper),this.popup_content=$("#pf-popup-content"),this.popup_content.append(e.clone()),$("#pf-popup-content .pf-popup-media").slick({dots:!0,arrows:!1}),$("#pf-popup-content .pf-rel-list").slick({dots:!1,infinite:!0,slidesToShow:3,slidesToScroll:3}),this.popup_wrapper.addClass("pf-opened"),certy.lockScroll()},certy.portfolio.closePopup=function(e){certy.vars.html.removeClass("cr-portfolio-opened"),this.popup_wrapper.removeClass("pf-opened"),setTimeout(function(){certy.portfolio.popup_wrapper.remove(),certy.unlockScroll()},500)},function(e){"use strict";function t(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(ace.mobile=!0,ace.html.addClass("ace-mobile")):(ace.mobile=!1,ace.html.addClass("ace-desktop"))}function o(e,t,o,a){var r=t.find("#ace-logo").width()+15,i=a.find("#ace-sidebar-btn").width()+15;e.hasClass("ace-head-boxed")&&e.hasClass("ace-logo-out")||e.hasClass("ace-head-full")&&o.hasClass("text-center")?r>=i&&(t.width(r),a.width(r)):(t.width(r),a.width(i))}function a(){ace.body.append(ace.overlay.obj),ace.overlay.obj[0].style.opacity=0,window.getComputedStyle(ace.overlay.obj[0]).opacity,ace.overlay.obj[0].style.opacity=1}function r(){ace.overlay.obj[0].style.opacity=0,ace.overlay.obj.remove()}function i(){var e=ace.html.outerWidth(),t=ace.body.outerHeight(),o=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];ace.html.data("scroll-position",o),ace.html.data("previous-overflow",ace.html.css("overflow")),ace.html.css("overflow","hidden"),window.scrollTo(o[0],o[1]);var a=ace.body.outerWidth()-e,r=ace.body.outerHeight()-t;ace.body.css({"margin-right":a,"margin-bottom":r}),ace.html.addClass("ace-lock-scroll")}function s(){ace.html.css("overflow",ace.html.data("previous-overflow"));var e=ace.html.data("scroll-position");window.scrollTo(e[0],e[1]),ace.body.css({"margin-right":0,"margin-bottom":0}),ace.html.removeClass("ace-lock-scroll")}function l(){ace.html.addClass("ace-sidebar-opened"),a(),i()}function n(){ace.html.removeClass("ace-sidebar-opened"),r(),s()}function c(e,t,o,a){var r=new ProgressBar.Circle(e,{color:aceOptions.color,strokeWidth:5,trailWidth:0,text:{value:t,className:"progress-text",style:{top:"50%",left:"50%",color:aceOptions.progress.textColor,position:"absolute",margin:0,padding:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0},svgStyle:{display:"block",width:"100%"},duration:a,easing:"easeOut"});r.animate(o)}function p(e,t,o,a){var r=new ProgressBar.Line(e,{strokeWidth:4,easing:"easeInOut",duration:a,color:aceOptions.color,trailColor:aceOptions.progress.trailColor,trailWidth:4,svgStyle:{width:"100%",height:"100%"},text:{value:t,className:"progress-text",style:{top:"-25px",right:"0",color:aceOptions.progress.textColor,position:"absolute",margin:0,padding:0,transform:{prefix:!0,value:"translate(0, 0)"}},autoStyleContainer:!0}});r.animate(o)}function d(e,t){var o=e[0].getBoundingClientRect();return o.bottom>=0&&o.right>=0&&o.top+t<=(window.innerHeight||document.documentElement.clientHeight)&&o.left<=(window.innerWidth||document.documentElement.clientWidth)}function f(t,o){for(var a=0;a<t.length;a++){var r=e(t[a]);if(r.hasClass("ace-animate")&&d(r,o)){if(r.removeClass("ace-animate").addClass("ace-animated"),r.hasClass("progress-chart")){var i=r.find(".progress-bar");c(i[0],i.data("text"),i.data("value"),1e3)}if(r.hasClass("progress-line")){var s=r.find(".progress-bar");p(s[0],s.data("text"),s.data("value"),1e3)}}}}function u(t,o){f(t,o),e(window).scroll(function(){f(t,o)}),e(window).resize(function(){f(t,o)})}function h(){var t,o=44.5403,a=-78.5463,r=e("#map"),i=r.get(0),s=[{elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#f5f5f2"},{visibility:"on"}]},{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.medical",stylers:[{visibility:"off"}]},{featureType:"poi.place_of_worship",stylers:[{visibility:"off"}]},{featureType:"poi.school",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#ffffff"},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{visibility:"simplified"},{color:"#ffffff"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{color:"#ffffff"},{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",stylers:[{color:"#ffffff"}]},{featureType:"road.local",stylers:[{color:"#ffffff"}]},{featureType:"poi.park",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#71c8d4"}]},{featureType:"landscape",stylers:[{color:"#e5e8e7"}]},{featureType:"poi.park",stylers:[{color:"#8ba129"}]},{featureType:"road",stylers:[{color:"#ffffff"}]},{featureType:"poi.sports_complex",elementType:"geometry",stylers:[{color:"#c7c7c7"},{visibility:"off"}]},{featureType:"water",stylers:[{color:"#a0d3d3"}]},{featureType:"poi.park",stylers:[{color:"#91b65d"}]},{featureType:"poi.park",stylers:[{gamma:1.51}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"poi.government",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.local",stylers:[{visibility:"simplified"}]},{featureType:"road"},{featureType:"road"},{},{featureType:"road.highway"}];r.data("latitude")&&(o=r.data("latitude")),r.data("longitude")&&(a=r.data("longitude")),t=new google.maps.LatLng(o,a);var l={zoom:14,center:t,scrollwheel:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:s};r=new google.maps.Map(i,l),google.maps.event.addDomListener(window,"resize",function(){r.setCenter(t)})}e(function(){certy.initGlobalVars();var a=e(".pf-grid");if(a.length>0&&(certy.portfolio.initGrid(a),e(document).on("click",".pf-project",function(){var t=e(this).attr("href");return certy.portfolio.openPopup(e(t)),!1}),e(document).on("touchstart click",".cr-portfolio-opened #pf-popup-wrap",function(t){var o=e("#pf-popup-content");o.is(t.target)||0!==o.has(t.target).length||certy.portfolio.closePopup()})),certy.slider(e(".cr-slider")),certy.carousel(e(".cr-carousel")),ace.html=e("html"),ace.body=e("body"),t(),ace.header.head=e("#ace-header"),ace.header.col1=e("#ace-head-col1"),ace.header.col2=e("#ace-head-col2"),ace.header.col3=e("#ace-head-col3"),o(ace.header.head,ace.header.col1,ace.header.col2,ace.header.col3),ace.html.hasClass("ace-tab-nav-on")>0){Modernizr.mq("(min-width: 992px)")&&"auto"!==aceOptions.nav.height&&(ace.nav.obj=e("#ace-nav-scroll"),ace.nav.obj.height(ace.nav.obj.height()).animate({height:aceOptions.nav.height},700,function(){ace.nav.obj.mCustomScrollbar({axis:"y",scrollbarPosition:"outside"}),aceOptions.nav.arrow&&(e("#ace-nav-tools").removeClass("hidden"),e("#ace-nav-arrow").on("click",function(){e("#ace-nav-scroll").mCustomScrollbar("scrollTo","-=300")}))}));var r,d;e("#ace-nav a").hover(function(){var t=e(this);r=setTimeout(function(){d=e('<div class="ace-tooltip"></div>');var o=t.offset().top,a=t.offset().left,r=a+t.outerWidth(),i=(t.outerWidth(),0);ace.body.append(d),d.text(t.data("tooltip")),r+d.outerWidth()<e(window).width()?d.addClass("arrow-left").css({left:r+"px",top:o+i+"px"}):d.addClass("arrow-right").css({left:a-d.outerWidth()-10+"px",top:o+i+"px"}),d.fadeIn(300)},300)},function(){clearTimeout(r),"undefined"!=typeof d&&d.fadeOut(300,function(){d.remove()})})}if(e("#ace-main-nav-sm .has-sub-menu > a").on("click touchstart",function(){return!!e(this).hasClass("hover")||(e(this).addClass("hover"),e(this).next().slideDown(500),!1)}),ace.sidebar.obj=e("#ace-sidebar"),ace.sidebar.btn=e("#ace-sidebar-btn"),ace.sidebar.btn.on("touchstart click",function(){l()}),e(document).on("touchstart click",".ace-sidebar-opened #ace-overlay",function(e){var t=ace.sidebar.obj;t.is(e.target)||0!==t.has(e.target).length||n()}),e("#ace-sidebar-close").on("click",function(){n()}),e("#ace-sidebar-inner").mCustomScrollbar({axis:"y",theme:"minimal-dark",autoHideScrollbar:!0,scrollButtons:{enable:!0}}),!aceOptions.progress.animation||ace.mobile){ace.progress.charts=e(".progress-chart .progress-bar");for(var f=0;f<ace.progress.charts.length;f++){var v=e(ace.progress.charts[f]);c(v[0],v.data("text"),v.data("value"),1)}ace.progress.lines=e(".progress-line .progress-bar");for(var f=0;f<ace.progress.lines.length;f++){var y=e(ace.progress.lines[f]);p(y[0],y.data("text"),y.data("value"),1)}}aceOptions.progress.animation&&!ace.mobile&&u(e(".ace-animate"),150),e("pre").each(function(e,t){hljs.highlightBlock(t)}),e(".alert .close").on("click",function(){var t=e(this).parent();t.fadeOut(500,function(){t.remove()})}),e(".slider").slick({dots:!0}),e("#map").length>0&&h();var m=e(".tabs-menu>li.active");if(m.length>0)for(var f=0;f<m.length;f++){var g=e(m[f]).children().attr("href");e(g).addClass("active").show()}e(".tabs-menu a").on("click",function(t){var o=e(this),a=o.attr("href"),r=o.closest(".tabs"),i=r.find(".tab-content");o.parent().addClass("active"),o.parent().siblings().removeClass("active"),i.not(a).removeClass("active").hide(),e(a).addClass("active").fadeIn(500),t.preventDefault()});var b=e(".togglebox>li.active");b.length>0&&b.find(".togglebox-content").show(),e(".togglebox-header").on("click",function(){var t=e(this);t.next(".togglebox-content").slideToggle(300),t.parent().toggleClass("active")});var w=e(".accordion>li.active");w.length>0&&w.find(".accordion-content").show(),e(".accordion-header").on("click",function(){var t=e(this),o=t.parent(),a=t.next(),r=t.closest(".accordion").find(".accordion-content");o.hasClass("active")?(o.removeClass("active"),a.slideUp()):(o.siblings().removeClass("active"),o.addClass("active"),r.slideUp(300),a.slideDown(300))}),e(".comment-replys-link").on("click",function(){return e(this).closest(".comment").toggleClass("show-replies"),!1});var C={};C.wrapper=null,C.content=null,C.slider=null,C.open=function(t){this.wrapper=e('<div id="pf-popup-wrap" class="pf-popup-wrap"><div class="pf-popup-inner"><div class="pf-popup-middle"><div class="pf-popup-container"><button id="pf-popup-close"><i class="rsicon rsicon-close"></i></button><div id="pf-popup-content" class="pf-popup-content"></div></div></div></div>'),ace.body.append(this.wrapper),this.content=e("#pf-popup-content"),this.content.append(t.clone()),C.wrapper.addClass("opened"),i()},C.close=function(){this.wrapper.removeClass("opened"),setTimeout(function(){C.wrapper.remove(),s()},500)},e(document).on("click",".pf-btn-view",function(){var t=e(this).attr("href");return C.open(e(t)),ace.html.addClass("ace-portfolio-opened"),!1}),e(document).on("touchstart click",".ace-portfolio-opened #pf-popup-wrap",function(t){var o=e("#pf-popup-content");o.is(t.target)||0!==o.has(t.target).length||(C.close(),ace.html.removeClass("ace-portfolio-opened"))}),e(".toggle-link").on("click",function(){var t=e(this).attr("href");return e(this).hasClass("opened")?(e(t).slideUp(500),e(this).removeClass("opened")):(e(t).slideDown(500),e(this).addClass("opened")),!1}),e("#btn-share").on("mouseenter",function(){e(this).parent().addClass("hovered")}),e(".ace-share-box").on("mouseleave",function(){var t=e(this);t.hasClass("hovered")&&(t.addClass("closing"),setTimeout(function(){t.removeClass("hovered"),t.removeClass("closing")},300))})}),e(window).on("resize",function(){o(ace.header.head,ace.header.col1,ace.header.col2,ace.header.col3)}),e(window).on("load",function(){var t=e(".pf-grid");if(t.length>0){var o=t.isotope({isOriginLeft:!aceOptions.rtl,itemSelector:".pf-grid-item",percentPosition:!0,masonry:{columnWidth:".pf-grid-sizer"}}),a=e(".pf-filter");if(a.length>0){var r=a.find("button"),i=e(".pf-filter button:first-child");i.addClass("active"),r.on("click",function(){r.removeClass("active"),e(this).addClass("active");var t=e(this).attr("data-filter");o.isotope({filter:t})})}t.addClass("loaded")}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9wdGlvbnMuanMiLCJfdmFyaWFibGVzLmpzIiwiX2Z1bmN0aW9ucy5qcyIsIl9zbGlkZXIuanMiLCJfcG9ydGZvbGlvLmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJjZXJ0eSIsInZhcnMiLCJydGwiLCJ0aGVtZUNvbG9yIiwiYWNlT3B0aW9ucyIsImNvbG9yIiwicHJvZ3Jlc3MiLCJhbmltYXRpb24iLCJ0ZXh0Q29sb3IiLCJ0cmFpbENvbG9yIiwibmF2IiwiaGVpZ2h0IiwiYXJyb3ciLCJzbGlkZXIiLCJvYmoiLCJzcGVlZCIsImRvdHMiLCJhY2UiLCJodG1sIiwiYm9keSIsIm1vYmlsZSIsImhlYWRlciIsImhlYWQiLCJjb2wxIiwiY29sMiIsImNvbDMiLCJzaWRlYmFyIiwiYnRuIiwidG9vbHRpcCIsIiQiLCJvdmVybGF5IiwibGluZXMiLCJjaGFydHMiLCJidWxsZXRzIiwiaW5pdEdsb2JhbFZhcnMiLCJ0aGlzIiwid2luZG93VyIsIndpbmRvdyIsIndpZHRoIiwid2luZG93SCIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJhZGRDbGFzcyIsImxvY2tTY3JvbGwiLCJpbml0V2lkdGgiLCJvdXRlcldpZHRoIiwiaW5pdEhlaWdodCIsIm91dGVySGVpZ2h0Iiwic2Nyb2xsUG9zaXRpb24iLCJzZWxmIiwicGFnZVhPZmZzZXQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbExlZnQiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsImRhdGEiLCJjc3MiLCJzY3JvbGxUbyIsIm1hcmdpblIiLCJtYXJnaW5CIiwibWFyZ2luLXJpZ2h0IiwibWFyZ2luLWJvdHRvbSIsInVubG9ja1Njcm9sbCIsInJlbW92ZUNsYXNzIiwiaSIsImxlbmd0aCIsInNsaWNrIiwiY2Fyb3VzZWwiLCJwb3J0Zm9saW8iLCJpbml0R3JpZCIsImVsIiwiZ3JpZCIsImlzb3RvcGUiLCJpc09yaWdpbkxlZnQiLCJpdGVtU2VsZWN0b3IiLCJwZXJjZW50UG9zaXRpb24iLCJtYXNvbnJ5IiwiY29sdW1uV2lkdGgiLCJpbWFnZXNMb2FkZWQiLCJmaWx0ZXIiLCJjbG9zZXN0IiwiZmluZCIsImZpbHRlcl9idG4iLCJmaWx0ZXJfYnRuX2ZpcnN0Iiwib24iLCJmaWx0ZXJWYWx1ZSIsImF0dHIiLCJvcGVuUG9wdXAiLCJwb3B1cF93cmFwcGVyIiwiYXBwZW5kIiwicG9wdXBfY29udGVudCIsImNsb25lIiwiYXJyb3dzIiwiaW5maW5pdGUiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImNsb3NlUG9wdXAiLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiYWNlX2RldGVjdF9kZXZpY2VfdHlwZSIsImFjZV9oZWFkZXJfaW5pdCIsImNvbDFfdyIsImNvbDNfdyIsImhhc0NsYXNzIiwiYWNlX2FwcGVuZF9vdmVybGF5Iiwic3R5bGUiLCJvcGFjaXR5IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImFjZV9yZW1vdmVfb3ZlcmxheSIsImFjZV9sb2NrX3Njcm9sbCIsImFjZV91bmxvY2tfc2Nyb2xsIiwiYWNlX29wZW5fc2lkZWJhciIsImFjZV9jbG9zZV9zaWRlYmFyIiwiYWNlX3Byb2dyZXNzX2NoYXJ0IiwiZWxlbWVudCIsInRleHQiLCJ2YWx1ZSIsImR1cmF0aW9uIiwiY2lyY2xlIiwiUHJvZ3Jlc3NCYXIiLCJDaXJjbGUiLCJzdHJva2VXaWR0aCIsInRyYWlsV2lkdGgiLCJjbGFzc05hbWUiLCJ0b3AiLCJsZWZ0IiwicG9zaXRpb24iLCJtYXJnaW4iLCJwYWRkaW5nIiwidHJhbnNmb3JtIiwicHJlZml4IiwiYXV0b1N0eWxlQ29udGFpbmVyIiwiYWxpZ25Ub0JvdHRvbSIsInN2Z1N0eWxlIiwiZGlzcGxheSIsImVhc2luZyIsImFuaW1hdGUiLCJhY2VfcHJvZ3Jlc3NfbGluZSIsImxpbmUiLCJMaW5lIiwicmlnaHQiLCJhY2VfaXNfZWxlbV9pbl92aWV3cG9ydCIsInZwYXJ0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJvdHRvbSIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaW5uZXJXaWR0aCIsImNsaWVudFdpZHRoIiwiYWNlX2lzX2VsZW1zX2luX3ZpZXdwb3J0IiwiZWxlbXMiLCJpdGVtIiwiY2hhcnQiLCJhY2VfYXBwZWFyX2VsZW1zIiwic2Nyb2xsIiwicmVzaXplIiwiaW5pdGlhbGlzZUdvb2dsZU1hcCIsImxhdGxuZyIsImxhdCIsImxuZyIsIm1hcCIsIm1hcENhbnZhcyIsImdldCIsIm1hcF9zdHlsZXMiLCJlbGVtZW50VHlwZSIsInN0eWxlcnMiLCJ2aXNpYmlsaXR5IiwiZmVhdHVyZVR5cGUiLCJnYW1tYSIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJtYXBPcHRpb25zIiwiem9vbSIsImNlbnRlciIsInNjcm9sbHdoZWVsIiwibWFwVHlwZUlkIiwiTWFwVHlwZUlkIiwiUk9BRE1BUCIsInN0eWxlcyIsIk1hcCIsImV2ZW50IiwiYWRkRG9tTGlzdGVuZXIiLCJzZXRDZW50ZXIiLCJwZl9ncmlkIiwiaWQiLCJlIiwiY29udGFpbmVyIiwiaXMiLCJ0YXJnZXQiLCJoYXMiLCJNb2Rlcm5penIiLCJtcSIsIm1DdXN0b21TY3JvbGxiYXIiLCJheGlzIiwic2Nyb2xsYmFyUG9zaXRpb24iLCJ0aW1lciIsImhvdmVyIiwiY3VycmVudCIsIm9mZnNldCIsImZhZGVJbiIsImNsZWFyVGltZW91dCIsImZhZGVPdXQiLCJuZXh0Iiwic2xpZGVEb3duIiwidGhlbWUiLCJhdXRvSGlkZVNjcm9sbGJhciIsInNjcm9sbEJ1dHRvbnMiLCJlbmFibGUiLCJlYWNoIiwiYmxvY2siLCJobGpzIiwiaGlnaGxpZ2h0QmxvY2siLCJhbGVydCIsInBhcmVudCIsInRhYkFjdGl2ZSIsInRhYl9pZCIsImNoaWxkcmVuIiwic2hvdyIsInRhYiIsInRhYl93cmFwIiwidGFiX2NvbnRlbnQiLCJzaWJsaW5ncyIsIm5vdCIsImhpZGUiLCJwcmV2ZW50RGVmYXVsdCIsInRvZ2dsZWJveEFjdGl2ZSIsInRvZ2dsZV9oZWFkIiwic2xpZGVUb2dnbGUiLCJ0b2dnbGVDbGFzcyIsImFjY29yZGVvbkFjdGl2ZSIsImFjY19oZWFkIiwiYWNjX3NlY3Rpb24iLCJhY2NfY29udGVudCIsImFjY19hbGxfY29udGVudHMiLCJzbGlkZVVwIiwicGZfcG9wdXAiLCJ3cmFwcGVyIiwiY29udGVudCIsIm9wZW4iLCJjbG9zZSIsInNoYXJlX2JveCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkFBRUEsR0FBQUEsUUFDQUMsTUFFQUMsS0FBQSxFQUdBQyxXQUFBLFlBTUFDLFlBQ0FGLEtBQUEsRUFDQUcsTUFBQSxVQUVBQyxVQUNBQyxXQUFBLEVBQ0FDLFVBQUEsVUFDQUMsV0FBQSxvQkFHQUMsS0FDQUMsT0FBQSxPQUNBQyxPQUFBLEdBR0FDLFFBQ0FDLElBQUEsR0FDQUMsTUFBQSxHQUNBQyxNQUFBLElBTUFDLEtBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxPQUFBLEdBQ0FqQixXQUFBLEdBRUFrQixRQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLElBR0FDLFNBQ0FaLElBQUEsR0FDQWEsSUFBQSxJQUdBakIsS0FDQUksSUFBQSxHQUNBYyxRQUFBQyxFQUFBLG9DQUdBQyxTQUNBaEIsSUFBQWUsRUFBQSxpQ0FHQXZCLFVBQ0F5QixNQUFBLEdBQ0FDLE9BQUEsR0FDQUMsUUFBQSxJQ2xFQWpDLE9BQUFrQyxlQUFBLFdBRUFDLEtBQUFsQyxLQUFBaUIsS0FBQVcsRUFBQSxRQUdBTSxLQUFBbEMsS0FBQWtCLEtBQUFVLEVBQUEsUUFHQU0sS0FBQWxDLEtBQUFtQyxRQUFBUCxFQUFBUSxRQUFBQyxRQUdBSCxLQUFBbEMsS0FBQXNDLFFBQUFWLEVBQUFRLFFBQUExQixTQUdBLGlFQUFBNkIsS0FBQUMsVUFBQUMsWUFDQVAsS0FBQWxDLEtBQUFtQixRQUFBLEVBQ0FlLEtBQUFsQyxLQUFBaUIsS0FBQXlCLFNBQUEsWUFFQVIsS0FBQWxDLEtBQUFtQixRQUFBLEVBQ0FlLEtBQUFsQyxLQUFBaUIsS0FBQXlCLFNBQUEsYUNuQkEzQyxNQUFBNEMsV0FB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QXZFLFdBQUFGLElBQ0EwRSxhQUFBLGdCQUNBQyxpQkFBQSxFQUNBQyxTQUNBQyxZQUFBLG9CQUlBRSxFQUFBcEQsRUFBQSxhQUNBLElBQUFvRCxFQUFBZCxPQUFBLEVBQUEsQ0FDQSxHQUFBaUIsR0FBQUgsRUFBQUUsS0FBQSxVQUNBRSxFQUFBeEQsRUFBQSxnQ0FFQXdELEdBQUExQyxTQUFBLFVBRUF5QyxFQUFBRSxHQUFBLFFBQUEsV0FDQUYsRUFBQW5CLFlBQUEsVUFDQXBDLEVBQUFNLE1BQUFRLFNBQUEsU0FFQSxJQUFBNEMsR0FBQTFELEVBQUFNLE1BQUFxRCxLQUFBLGNBQ0FmLEdBQUFDLFNBQUFPLE9BQUFNLE1BSUFvRyxFQUFBaEosU0FBQSxjQTJYQTBNIiwiZmlsZSI6InRoZW1lLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBDZXJ0eSBPcHRpb25zICoqL1xyXG5cclxudmFyIGNlcnR5ID0ge1xyXG4gICAgdmFyczoge1xyXG4gICAgICAgIC8vIFNldCB0aGVtZSBydGwgbW9kZVxyXG4gICAgICAgIHJ0bDogZmFsc2UsXHJcblxyXG4gICAgICAgIC8vIFNldCB0aGVtZSBwcmltYXJ5IGNvbG9yXHJcbiAgICAgICAgdGhlbWVDb2xvcjogJyNkMTRiNGEnXHJcbiAgICB9XHJcbn07XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuLy8gVGhlbWUgT3B0aW9uc1xyXG52YXIgYWNlT3B0aW9ucyA9IHtcclxuICAgIHJ0bDogZmFsc2UsXHJcbiAgICBjb2xvcjogJyNjMGUzZTcnLFxyXG5cclxuICAgIHByb2dyZXNzOiB7XHJcbiAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxyXG4gICAgICAgIHRleHRDb2xvcjogJ2luaGVyaXQnLFxyXG4gICAgICAgIHRyYWlsQ29sb3I6ICdyZ2JhKDAsMCwwLDAuMDcpJ1xyXG4gICAgfSxcclxuXHJcbiAgICBuYXY6IHtcclxuICAgICAgICBoZWlnaHQ6ICdhdXRvJywgLy8gdXNlICdhdXRvJyBhbmQgc29tZSBmaXhlZCB2YWx1ZSB3aXRoIHB4IG9yIGVtIDQ4MFxyXG4gICAgICAgIGFycm93OiBmYWxzZVxyXG4gICAgfSxcclxuXHJcbiAgICBzbGlkZXI6IHtcclxuICAgICAgICBvYmo6ICcnLFxyXG4gICAgICAgIHNwZWVkOiAnJyxcclxuICAgICAgICBkb3RzOiB0cnVlXHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxuLy8gVGhlbWUgVmFyaWFibGVzXHJcbnZhciBhY2UgPSB7XHJcbiAgICBodG1sOiAnJyxcclxuICAgIGJvZHk6ICcnLFxyXG4gICAgbW9iaWxlOiAnJyxcclxuICAgIHRoZW1lQ29sb3I6ICcnLFxyXG5cclxuICAgIGhlYWRlcjoge1xyXG4gICAgICAgIGhlYWQ6ICcnLFxyXG4gICAgICAgIGNvbDE6ICcnLFxyXG4gICAgICAgIGNvbDI6ICcnLFxyXG4gICAgICAgIGNvbDM6ICcnXHJcbiAgICB9LFxyXG5cclxuICAgIHNpZGViYXI6IHtcclxuICAgICAgICBvYmo6ICcnLFxyXG4gICAgICAgIGJ0bjogJydcclxuICAgIH0sXHJcblxyXG4gICAgbmF2OiB7XHJcbiAgICAgICAgb2JqOiAnJyxcclxuICAgICAgICB0b29sdGlwOiAkKCc8ZGl2IGNsYXNzPVwiYWNlLXRvb2x0aXBcIj48L2Rpdj4nKVxyXG4gICAgfSxcclxuXHJcbiAgICBvdmVybGF5OiB7XHJcbiAgICAgICAgb2JqOiAkKCc8ZGl2IGlkPVwiYWNlLW92ZXJsYXlcIj48L2Rpdj4nKVxyXG4gICAgfSxcclxuXHJcbiAgICBwcm9ncmVzczoge1xyXG4gICAgICAgIGxpbmVzOiAnJyxcclxuICAgICAgICBjaGFydHM6ICcnLFxyXG4gICAgICAgIGJ1bGxldHM6ICcnXHJcbiAgICB9XHJcbn07IiwiLyogSW5pdCBHbG9iYWwgVmFyaWFibGVzICovXHJcblxyXG5jZXJ0eS5pbml0R2xvYmFsVmFycyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyBnZXQgZG9jdW1lbnQgPGh0bWw+XHJcbiAgICB0aGlzLnZhcnMuaHRtbCA9ICQoJ2h0bWwnKTtcclxuXHJcbiAgICAvLyBnZXQgZG9jdW1lbnQgPGJvZHk+XHJcbiAgICB0aGlzLnZhcnMuYm9keSA9ICQoJ2JvZHknKTtcclxuXHJcbiAgICAvLyBnZXQgd2luZG93IFdpZHRoXHJcbiAgICB0aGlzLnZhcnMud2luZG93VyA9ICQod2luZG93KS53aWR0aCgpO1xyXG5cclxuICAgIC8vIGdldCB3aW5kb3cgaGVpZ2h0XHJcbiAgICB0aGlzLnZhcnMud2luZG93SCA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuXHJcbiAgICAvLyBkZXRlY3QgZGV2aWNlIHR5cGVcclxuICAgIGlmICgvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcclxuICAgICAgICB0aGlzLnZhcnMubW9iaWxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnZhcnMuaHRtbC5hZGRDbGFzcygnbW9iaWxlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMudmFycy5tb2JpbGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZhcnMuaHRtbC5hZGRDbGFzcygnZGVza3RvcCcpO1xyXG4gICAgfVxyXG59OyIsIi8qKiBGdW5jdGlvbnMgKiovXHJcblxyXG5jZXJ0eS5sb2NrU2Nyb2xsID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBpbml0V2lkdGggPSBjZXJ0eS52YXJzLmh0bWwub3V0ZXJXaWR0aCgpO1xyXG4gICAgdmFyIGluaXRIZWlnaHQgPSBjZXJ0eS52YXJzLmJvZHkub3V0ZXJIZWlnaHQoKTtcclxuXHJcbiAgICB2YXIgc2Nyb2xsUG9zaXRpb24gPSBbXHJcbiAgICAgICAgc2VsZi5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsXHJcbiAgICAgICAgc2VsZi5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wXHJcbiAgICBdO1xyXG5cclxuICAgIGNlcnR5LnZhcnMuaHRtbC5kYXRhKCdzY3JvbGwtcG9zaXRpb24nLCBzY3JvbGxQb3NpdGlvbik7XHJcbiAgICBjZXJ0eS52YXJzLmh0bWwuZGF0YSgncHJldmlvdXMtb3ZlcmZsb3cnLCBjZXJ0eS52YXJzLmh0bWwuY3NzKCdvdmVyZmxvdycpKTtcclxuICAgIGNlcnR5LnZhcnMuaHRtbC5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xyXG4gICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbFBvc2l0aW9uWzBdLCBzY3JvbGxQb3NpdGlvblsxXSk7XHJcblxyXG4gICAgdmFyIG1hcmdpblIgPSBjZXJ0eS52YXJzLmJvZHkub3V0ZXJXaWR0aCgpIC0gaW5pdFdpZHRoO1xyXG4gICAgdmFyIG1hcmdpbkIgPSBjZXJ0eS52YXJzLmJvZHkub3V0ZXJIZWlnaHQoKSAtIGluaXRIZWlnaHQ7XHJcbiAgICBjZXJ0eS52YXJzLmJvZHkuY3NzKHsnbWFyZ2luLXJpZ2h0JzogbWFyZ2luUiwgJ21hcmdpbi1ib3R0b20nOiBtYXJnaW5CfSk7XHJcbiAgICBjZXJ0eS52YXJzLmh0bWwuYWRkQ2xhc3MoJ2xvY2stc2Nyb2xsJyk7XHJcbn07XHJcblxyXG5jZXJ0eS51bmxvY2tTY3JvbGwgPSBmdW5jdGlvbigpe1xyXG4gICAgY2VydHkudmFycy5odG1sLmNzcygnb3ZlcmZsb3cnLCBjZXJ0eS52YXJzLmh0bWwuZGF0YSgncHJldmlvdXMtb3ZlcmZsb3cnKSk7XHJcbiAgICB2YXIgc2Nyb2xsUG9zaXRpb24gPSBjZXJ0eS52YXJzLmh0bWwuZGF0YSgnc2Nyb2xsLXBvc2l0aW9uJyk7XHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsUG9zaXRpb25bMF0sIHNjcm9sbFBvc2l0aW9uWzFdKTtcclxuXHJcbiAgICBjZXJ0eS52YXJzLmJvZHkuY3NzKHsnbWFyZ2luLXJpZ2h0JzogMCwgJ21hcmdpbi1ib3R0b20nOiAwfSk7XHJcbiAgICBjZXJ0eS52YXJzLmh0bWwucmVtb3ZlQ2xhc3MoJ2xvY2stc2Nyb2xsJyk7XHJcbn07IiwiLy8gU2xpZGVyXHJcbmNlcnR5LnNsaWRlciA9IGZ1bmN0aW9uKHNsaWRlcil7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlci5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgIGlmKCAkKHNsaWRlcltpXSkuZGF0YShcImluaXRcIikgIT0gXCJub25lXCIgKXtcclxuICAgICAgICAgICAkKHNsaWRlcltpXSkuc2xpY2soKTtcclxuICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbi8vIENhcm91c2VsXHJcbmNlcnR5LmNhcm91c2VsID0gZnVuY3Rpb24oY2Fyb3VzZWwpe1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXJvdXNlbC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmKCAkKGNhcm91c2VsW2ldKS5kYXRhKFwiaW5pdFwiKSAhPT0gXCJub25lXCIgKXtcclxuICAgICAgICAgICAgJChjYXJvdXNlbFtpXSkuc2xpY2soe1xyXG4gICAgICAgICAgICAgICAgXCJkb3RzXCIgOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbiIsIi8qKlxyXG4gKiBQb3J0Zm9saW9cclxuICovXHJcblxyXG5jZXJ0eS5wb3J0Zm9saW8gPSB7fTtcclxuXHJcbmNlcnR5LnBvcnRmb2xpby5pbml0R3JpZCA9IGZ1bmN0aW9uKGVsKXtcclxuICAgIC8vIGlzb3RvcGUgaW5pdGlhbGl6YXRpb25cclxuICAgIHZhciBncmlkID0gZWwuaXNvdG9wZSh7XHJcbiAgICAgICAgaXNPcmlnaW5MZWZ0OiAhY2VydHkudmFycy5ydGwsXHJcbiAgICAgICAgaXRlbVNlbGVjdG9yOiAnLnBmLWdyaWQtaXRlbScsXHJcbiAgICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlLFxyXG4gICAgICAgIG1hc29ucnk6IHtcclxuICAgICAgICAgICAgY29sdW1uV2lkdGg6ICcucGYtZ3JpZC1zaXplcidcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBsYXlvdXQgaXNvdG9wZSBhZnRlciBlYWNoIGltYWdlIGxvYWRzXHJcbiAgICBncmlkLmltYWdlc0xvYWRlZCgpLnByb2dyZXNzKCBmdW5jdGlvbigpIHtcclxuICAgICAgICBncmlkLmlzb3RvcGUoJ2xheW91dCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gaXNvdG9wZSBmaWx0ZXJcclxuICAgIHZhciBmaWx0ZXIgPSBlbC5jbG9zZXN0KCcucGYtd3JhcCcpLmZpbmQoJy5wZi1maWx0ZXInKTtcclxuICAgIGlmIChmaWx0ZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBmaWx0ZXJfYnRuID0gZmlsdGVyLmZpbmQoJ2J1dHRvbicpO1xyXG4gICAgICAgIHZhciBmaWx0ZXJfYnRuX2ZpcnN0ID0gJCgnLnBmLWZpbHRlciBidXR0b246Zmlyc3QtY2hpbGQnKTtcclxuXHJcbiAgICAgICAgZmlsdGVyX2J0bl9maXJzdC5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIGZpbHRlcl9idG4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmaWx0ZXJfYnRuLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZmlsdGVyVmFsdWUgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtZmlsdGVyJyk7XHJcbiAgICAgICAgICAgIGdyaWQuaXNvdG9wZSh7IGZpbHRlcjogZmlsdGVyVmFsdWUgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jZXJ0eS5wb3J0Zm9saW8ub3BlblBvcHVwID0gZnVuY3Rpb24oZWwpe1xyXG4gICAgLy8gYWRkIG9wZW5lZCBjbGFzcyBvbiBodG1sXHJcbiAgICBjZXJ0eS52YXJzLmh0bWwuYWRkQ2xhc3MoJ2NyLXBvcnRmb2xpby1vcGVuZWQnKTtcclxuXHJcbiAgICAvLyBhcHBlbmQgcG9ydGZvbGlvIHBvcHVwXHJcbiAgICB0aGlzLnBvcHVwX3dyYXBwZXIgPSAkKCc8ZGl2IGlkPVwicGYtcG9wdXAtd3JhcFwiPicrXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJwZi1wb3B1cC1pbm5lclwiPicrXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJwZi1wb3B1cC1taWRkbGVcIj4nK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwicGYtcG9wdXAtY29udGFpbmVyXCI+JytcclxuICAgICAgICAnPGJ1dHRvbiBpZD1cInBmLXBvcHVwLWNsb3NlXCI+PGkgY2xhc3M9XCJyc2ljb24gcnNpY29uLWNsb3NlXCI+PC9pPjwvYnV0dG9uPicrXHJcbiAgICAgICAgJzxkaXYgaWQ9XCJwZi1wb3B1cC1jb250ZW50XCIgY2xhc3M9XCJwZi1wb3B1cC1jb250ZW50XCI+PC9kaXY+JytcclxuICAgICAgICAnPC9kaXY+JytcclxuICAgICAgICAnPC9kaXY+JytcclxuICAgICAgICAnPC9kaXY+JytcclxuICAgICAgICAnPC9kaXY+Jyk7XHJcblxyXG4gICAgY2VydHkudmFycy5ib2R5LmFwcGVuZCggdGhpcy5wb3B1cF93cmFwcGVyICk7XHJcblxyXG4gICAgLy8gYWRkIHBvcnRmb2xpbyBwb3B1cCBjb250ZW50XHJcbiAgICB0aGlzLnBvcHVwX2NvbnRlbnQgPSAkKCcjcGYtcG9wdXAtY29udGVudCcpO1xyXG4gICAgdGhpcy5wb3B1cF9jb250ZW50LmFwcGVuZCggZWwuY2xvbmUoKSApO1xyXG5cclxuICAgIC8vIGFkZCBzbGljayBzbGlkZXJcclxuICAgICQoJyNwZi1wb3B1cC1jb250ZW50IC5wZi1wb3B1cC1tZWRpYScpLnNsaWNrKHtcclxuICAgICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICAgIGFycm93czogZmFsc2VcclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNwZi1wb3B1cC1jb250ZW50IC5wZi1yZWwtbGlzdCcpLnNsaWNrKHtcclxuICAgICAgICBkb3RzOiBmYWxzZSxcclxuICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcclxuICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDNcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIG1ha2UgcG9ydGZvbGlvIHBvcHVwIHZpc2libGVcclxuICAgIHRoaXMucG9wdXBfd3JhcHBlci5hZGRDbGFzcygncGYtb3BlbmVkJyk7XHJcblxyXG4gICAgLy8gbG9jayB3aW5kb3cgc2Nyb2xsXHJcbiAgICBjZXJ0eS5sb2NrU2Nyb2xsKCk7XHJcbn07XHJcblxyXG5jZXJ0eS5wb3J0Zm9saW8uY2xvc2VQb3B1cCA9IGZ1bmN0aW9uKGVsKXtcclxuICAgIC8vIHJlbW92ZSBvcGVuZWQgY2xhc3MgZnJvbSBodG1sXHJcbiAgICBjZXJ0eS52YXJzLmh0bWwucmVtb3ZlQ2xhc3MoJ2NyLXBvcnRmb2xpby1vcGVuZWQnKTtcclxuXHJcbiAgICAvLyBtYWtlIHBvcnRmb2xpbyBwb3B1cCBpbnZpc2libGVcclxuICAgIHRoaXMucG9wdXBfd3JhcHBlci5yZW1vdmVDbGFzcygncGYtb3BlbmVkJyk7XHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIGNlcnR5LnBvcnRmb2xpby5wb3B1cF93cmFwcGVyLnJlbW92ZSgpO1xyXG4gICAgICAgIGNlcnR5LnVubG9ja1Njcm9sbCgpO1xyXG4gICAgfSwgNTAwKTtcclxufTtcclxuXHJcblxyXG5cclxuXHJcbi8qXHJcbnZhciBwZl9wb3B1cCA9IHt9O1xyXG5wZl9wb3B1cC53cmFwcGVyID0gbnVsbDtcclxucGZfcG9wdXAuY29udGVudCA9IG51bGw7XHJcbnBmX3BvcHVwLnNsaWRlciA9IG51bGw7XHJcblxyXG5wZl9wb3B1cC5vcGVuID0gZnVuY3Rpb24gKCBlbCApe1xyXG4gICAgYWNlLmh0bWwuYWRkQ2xhc3MoJ2FjZS1wb3J0Zm9saW8tb3BlbmVkJyk7XHJcblxyXG4gICAgLy8gQXBwZW5kIFBvcnRmb2xpbyBQb3B1cFxyXG4gICAgdGhpcy53cmFwcGVyID0gJCgnPGRpdiBpZD1cInBmLXBvcHVwLXdyYXBcIiBjbGFzcz1cInBmLXBvcHVwLXdyYXBcIj4nK1xyXG4gICAgJzxkaXYgY2xhc3M9XCJwZi1wb3B1cC1pbm5lclwiPicrXHJcbiAgICAnPGRpdiBjbGFzcz1cInBmLXBvcHVwLW1pZGRsZVwiPicrXHJcbiAgICAnPGRpdiBjbGFzcz1cInBmLXBvcHVwLWNvbnRhaW5lclwiPicrXHJcbiAgICAnPGJ1dHRvbiBpZD1cInBmLXBvcHVwLWNsb3NlXCI+PGkgY2xhc3M9XCJyc2ljb24gcnNpY29uLWNsb3NlXCI+PC9pPjwvYnV0dG9uPicrXHJcbiAgICAnPGRpdiBpZD1cInBmLXBvcHVwLWNvbnRlbnRcIiBjbGFzcz1cInBmLXBvcHVwLWNvbnRlbnRcIj48L2Rpdj4nK1xyXG4gICAgJzwvZGl2PicrXHJcbiAgICAnPC9kaXY+JytcclxuICAgICc8L2Rpdj4nKTtcclxuXHJcbiAgICBhY2UuYm9keS5hcHBlbmQodGhpcy53cmFwcGVyKTtcclxuXHJcbiAgICAvLyBBZGQgUG9ydGZvbGlvIFBvcHVwIEl0ZW1zXHJcbiAgICB0aGlzLmNvbnRlbnQgPSAkKCcjcGYtcG9wdXAtY29udGVudCcpO1xyXG4gICAgdGhpcy5jb250ZW50LmFwcGVuZCggZWwuY2xvbmUoKSApO1xyXG5cclxuICAgIC8vIE1ha2UgUG9ydGZvbGlvIFBvcHVwIFZpc2libGVcclxuICAgIHBmX3BvcHVwLndyYXBwZXIuYWRkQ2xhc3MoJ29wZW5lZCcpO1xyXG4gICAgYWNlX2xvY2tfc2Nyb2xsKCk7XHJcbn07XHJcblxyXG5wZl9wb3B1cC5jbG9zZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICB0aGlzLndyYXBwZXIucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIHBmX3BvcHVwLndyYXBwZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgYWNlX3VubG9ja19zY3JvbGwoKTtcclxuICAgIH0sIDUwMCk7XHJcbn07XHJcblxyXG4vLyBDbG9zZSBQb3J0Zm9saW8gUG9wdXBcclxuJChkb2N1bWVudCkub24oJ3RvdWNoc3RhcnQgY2xpY2snLCAnLmFjZS1wb3J0Zm9saW8tb3BlbmVkICNwZi1wb3B1cC13cmFwJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciBjb250YWluZXIgPSAkKCcjcGYtcG9wdXAtY29udGVudCcpO1xyXG5cclxuICAgIC8vIGlmIHRoZSB0YXJnZXQgb2YgdGhlIGNsaWNrIGlzbid0IHRoZSBjb250YWluZXIuLi4gbm9yIGEgZGVzY2VuZGFudCBvZiB0aGUgY29udGFpbmVyXHJcbiAgICBpZiAoIWNvbnRhaW5lci5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcGZfcG9wdXAuY2xvc2UoKTtcclxuICAgICAgICBhY2UuaHRtbC5yZW1vdmVDbGFzcygnYWNlLXBvcnRmb2xpby1vcGVuZWQnKTtcclxuICAgIH1cclxufSk7XHJcbioqL1xyXG4iLCIoZnVuY3Rpb24gKCQpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgICQoZnVuY3Rpb24gKCkgeyAvLyBzdGFydDogZG9jdW1lbnQgcmVhZHlcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogIDEuMCAtIFNldCBHbG9iYWwgVmFyc1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNlcnR5LmluaXRHbG9iYWxWYXJzKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqICAyLjAgLSBQb3J0Zm9saW9cclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgcGZfZ3JpZCA9ICQoJy5wZi1ncmlkJyk7XHJcblxyXG4gICAgICAgIGlmIChwZl9ncmlkLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGluaXQgcG9ydGZvbGlvIGdyaWRcclxuICAgICAgICAgICAgY2VydHkucG9ydGZvbGlvLmluaXRHcmlkKHBmX2dyaWQpO1xyXG5cclxuICAgICAgICAgICAgLy8gb3BlbiBwb3J0Zm9saW8gcG9wdXBcclxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5wZi1wcm9qZWN0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjZXJ0eS5wb3J0Zm9saW8ub3BlblBvcHVwKCAkKGlkKSApO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBjbG9zZSBwb3J0Zm9saW8gcG9wdXBcclxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ3RvdWNoc3RhcnQgY2xpY2snLCAnLmNyLXBvcnRmb2xpby1vcGVuZWQgI3BmLXBvcHVwLXdyYXAnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9ICQoJyNwZi1wb3B1cC1jb250ZW50Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgaXNuJ3QgdGhlIGNvbnRhaW5lci4uLiBub3IgYSBkZXNjZW5kYW50IG9mIHRoZSBjb250YWluZXJcclxuICAgICAgICAgICAgICAgIGlmICghY29udGFpbmVyLmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjZXJ0eS5wb3J0Zm9saW8uY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHgueCAtIENvbXBvbmVudHNcclxuICAgICAgICAgKi9cclxuICAgICAgICAvLyBpbml0IHNsaWRlcnNcclxuICAgICAgICBjZXJ0eS5zbGlkZXIoICQoXCIuY3Itc2xpZGVyXCIpICk7XHJcblxyXG4gICAgICAgIC8vIGluaXQgY2Fyb3VzZWxcclxuICAgICAgICBjZXJ0eS5jYXJvdXNlbCggJChcIi5jci1jYXJvdXNlbFwiKSApO1xyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogMS4wIC0gQWNlIEluaXQgTWFpbiBWYXJzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYWNlLmh0bWwgPSAkKCdodG1sJyk7XHJcbiAgICAgICAgYWNlLmJvZHkgPSAkKCdib2R5Jyk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIDIuMCAtIEFjZSBEZXRlY3QgRGV2aWNlIFR5cGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBhY2VfZGV0ZWN0X2RldmljZV90eXBlKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIDMuMCAtIEFjZSBJbml0IEhlYWRlclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFjZS5oZWFkZXIuaGVhZCA9ICQoJyNhY2UtaGVhZGVyJyk7XHJcbiAgICAgICAgYWNlLmhlYWRlci5jb2wxID0gJCgnI2FjZS1oZWFkLWNvbDEnKTtcclxuICAgICAgICBhY2UuaGVhZGVyLmNvbDIgPSAkKCcjYWNlLWhlYWQtY29sMicpO1xyXG4gICAgICAgIGFjZS5oZWFkZXIuY29sMyA9ICQoJyNhY2UtaGVhZC1jb2wzJyk7XHJcblxyXG4gICAgICAgIGFjZV9oZWFkZXJfaW5pdChhY2UuaGVhZGVyLmhlYWQsIGFjZS5oZWFkZXIuY29sMSwgYWNlLmhlYWRlci5jb2wyLCBhY2UuaGVhZGVyLmNvbDMpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAgNC4wIC0gQWNlIFRhYiBOYXZpZ2F0aW9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKGFjZS5odG1sLmhhc0NsYXNzKCdhY2UtdGFiLW5hdi1vbicpID4gMCkge1xyXG4gICAgICAgICAgICBpZiAoTW9kZXJuaXpyLm1xKCcobWluLXdpZHRoOiA5OTJweCknKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRGVza3RvcCBUYWIgTmF2aWdhdGlvblxyXG4gICAgICAgICAgICAgICAgaWYgKGFjZU9wdGlvbnMubmF2LmhlaWdodCAhPT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IE5hdiBIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICBhY2UubmF2Lm9iaiA9ICQoJyNhY2UtbmF2LXNjcm9sbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhY2UubmF2Lm9iai5oZWlnaHQoYWNlLm5hdi5vYmouaGVpZ2h0KCkpLmFuaW1hdGUoe2hlaWdodDogYWNlT3B0aW9ucy5uYXYuaGVpZ2h0fSwgNzAwLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3VzZSBTY3JvbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNlLm5hdi5vYmoubUN1c3RvbVNjcm9sbGJhcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzOiBcInlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhclBvc2l0aW9uOiBcIm91dHNpZGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFycm93IFNjcm9sbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWNlT3B0aW9ucy5uYXYuYXJyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjYWNlLW5hdi10b29sc1wiKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNhY2UtbmF2LWFycm93XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjYWNlLW5hdi1zY3JvbGxcIikubUN1c3RvbVNjcm9sbGJhcignc2Nyb2xsVG8nLCAnLT0zMDAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFRhYiBOYXZpZ2F0aW9uIFRvb2x0aXBzXHJcbiAgICAgICAgICAgIHZhciB0aW1lcjtcclxuICAgICAgICAgICAgdmFyIHRvb2x0aXA7XHJcblxyXG4gICAgICAgICAgICAkKCcjYWNlLW5hdiBhJykuaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcCA9ICQoJzxkaXYgY2xhc3M9XCJhY2UtdG9vbHRpcFwiPjwvZGl2PicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5pdCB2YXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3AgPSBjdXJyZW50Lm9mZnNldCgpLnRvcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBjdXJyZW50Lm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyBjdXJyZW50Lm91dGVyV2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gY3VycmVudC5vdXRlcldpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSAwOyAvLyhhY2UubmF2LnRvb2x0aXAuaGVpZ2h0KCkgLSAkKHRoaXMpLmhlaWdodCgpICkvMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB0b29sdGlwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjZS5ib2R5LmFwcGVuZCh0b29sdGlwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0b29sdGlwIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC50ZXh0KGN1cnJlbnQuZGF0YSgndG9vbHRpcCcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBvc2l0aW9uaW5nIHRvb2x0aXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJpZ2h0ICsgdG9vbHRpcC5vdXRlcldpZHRoKCkgPCAkKHdpbmRvdykud2lkdGgoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5hZGRDbGFzcygnYXJyb3ctbGVmdCcpLmNzcyh7XCJsZWZ0XCI6IHJpZ2h0ICsgXCJweFwiLCBcInRvcFwiOiAodG9wICsgaGVpZ2h0KSArIFwicHhcIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuYWRkQ2xhc3MoJ2Fycm93LXJpZ2h0JykuY3NzKHtcImxlZnRcIjogKGxlZnQgLSB0b29sdGlwLm91dGVyV2lkdGgoKSAtIDEwKSArIFwicHhcIiwgXCJ0b3BcIjogKHRvcCArIGhlaWdodCkgKyBcInB4XCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgVG9vbHRpcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLmZhZGVJbigzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIHRvb2x0aXAgIT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLmZhZGVPdXQoMzAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIDUuMCAtIEFjZSBNb2JpbGUgTmF2aWdhdGlvblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICQoJyNhY2UtbWFpbi1uYXYtc20gLmhhcy1zdWItbWVudSA+IGEnKS5vbignY2xpY2sgdG91Y2hzdGFydCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKCAkKHRoaXMpLmhhc0NsYXNzKCdob3ZlcicpICl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2hvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm5leHQoKS5zbGlkZURvd24oNTAwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiA2LjAgLSBBY2UgU2lkZWJhclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFjZS5zaWRlYmFyLm9iaiA9ICQoJyNhY2Utc2lkZWJhcicpO1xyXG4gICAgICAgIGFjZS5zaWRlYmFyLmJ0biA9ICQoJyNhY2Utc2lkZWJhci1idG4nKTtcclxuXHJcbiAgICAgICAgLy8gT3BlbiBTaWRlYmFyXHJcbiAgICAgICAgYWNlLnNpZGViYXIuYnRuLm9uKCd0b3VjaHN0YXJ0IGNsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhY2Vfb3Blbl9zaWRlYmFyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENsb3NlIFNpZGViYXIgVGhyb3VnaCBPdmVybGF5XHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ3RvdWNoc3RhcnQgY2xpY2snLCAnLmFjZS1zaWRlYmFyLW9wZW5lZCAjYWNlLW92ZXJsYXknLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gYWNlLnNpZGViYXIub2JqO1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgdGFyZ2V0IG9mIHRoZSBjbGljayBpc24ndCB0aGUgY29udGFpbmVyLi4uIG5vciBhIGRlc2NlbmRhbnQgb2YgdGhlIGNvbnRhaW5lclxyXG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5lci5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBhY2VfY2xvc2Vfc2lkZWJhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENsb3NlIFNpZGViYXIgVXNpbmcgQnV0dG9uXHJcbiAgICAgICAgJCgnI2FjZS1zaWRlYmFyLWNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhY2VfY2xvc2Vfc2lkZWJhcigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTaWRlYmFyIEN1c3RvbSBTY3JvbGxcclxuICAgICAgICAkKFwiI2FjZS1zaWRlYmFyLWlubmVyXCIpLm1DdXN0b21TY3JvbGxiYXIoe1xyXG4gICAgICAgICAgICBheGlzOiBcInlcIixcclxuICAgICAgICAgICAgdGhlbWU6IFwibWluaW1hbC1kYXJrXCIsXHJcbiAgICAgICAgICAgIGF1dG9IaWRlU2Nyb2xsYmFyOiB0cnVlLFxyXG4gICAgICAgICAgICBzY3JvbGxCdXR0b25zOiB7IGVuYWJsZTogdHJ1ZSB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIDcuMCAtIEFjZSBDaXJjbGUgJiBMaW5lIENoYXJ0c1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmKCFhY2VPcHRpb25zLnByb2dyZXNzLmFuaW1hdGlvbiB8fCBhY2UubW9iaWxlKSB7XHJcbiAgICAgICAgICAgIC8vIENpcmNsZSBDaGFydFxyXG4gICAgICAgICAgICBhY2UucHJvZ3Jlc3MuY2hhcnRzID0gJCgnLnByb2dyZXNzLWNoYXJ0IC5wcm9ncmVzcy1iYXInKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY2UucHJvZ3Jlc3MuY2hhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hhcnQgPSAkKGFjZS5wcm9ncmVzcy5jaGFydHNbaV0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGFjZV9wcm9ncmVzc19jaGFydChjaGFydFswXSwgY2hhcnQuZGF0YSgndGV4dCcpLCBjaGFydC5kYXRhKCd2YWx1ZScpLCAxKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTGluZSBDaGFydFxyXG4gICAgICAgICAgICBhY2UucHJvZ3Jlc3MubGluZXMgPSAkKCcucHJvZ3Jlc3MtbGluZSAucHJvZ3Jlc3MtYmFyJyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWNlLnByb2dyZXNzLmxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9ICQoYWNlLnByb2dyZXNzLmxpbmVzW2ldKTtcclxuXHJcbiAgICAgICAgICAgICAgICBhY2VfcHJvZ3Jlc3NfbGluZShsaW5lWzBdLCBsaW5lLmRhdGEoJ3RleHQnKSwgbGluZS5kYXRhKCd2YWx1ZScpLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogOC4wIC0gQWNlIEFuaW1hdGUgRWxlbWVudHNcclxuICAgICAgICAgKi9cclxuICAgICAgICBpZihhY2VPcHRpb25zLnByb2dyZXNzLmFuaW1hdGlvbiAmJiAhYWNlLm1vYmlsZSkge1xyXG4gICAgICAgICAgICBhY2VfYXBwZWFyX2VsZW1zKCQoJy5hY2UtYW5pbWF0ZScpLCAxNTApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogOS4wIC0gQ29kZSBIaWdobGlnaHRcclxuICAgICAgICAgKi9cclxuICAgICAgICAkKCdwcmUnKS5lYWNoKGZ1bmN0aW9uIChpLCBibG9jaykge1xyXG4gICAgICAgICAgICBobGpzLmhpZ2hsaWdodEJsb2NrKGJsb2NrKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogMTAuMCAtIEFjZSBBbGVydHNcclxuICAgICAgICAgKi9cclxuICAgICAgICAkKCcuYWxlcnQgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYWxlcnQgPSAkKHRoaXMpLnBhcmVudCgpO1xyXG5cclxuICAgICAgICAgICAgYWxlcnQuZmFkZU91dCg1MDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogMTEuMCAtIEFjZSBTbGlkZXJcclxuICAgICAgICAgKi9cclxuICAgICAgICAkKCcuc2xpZGVyJykuc2xpY2soe1xyXG4gICAgICAgICAgICBkb3RzOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIDEyLjAgLSBBY2UgR29vZ2xlIE1hcCBJbml0aWFsaXNhdGlvblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmICgkKCcjbWFwJykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpbml0aWFsaXNlR29vZ2xlTWFwKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAgMTMuMCAtIFRhYnNcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgdGFiQWN0aXZlID0gJCgnLnRhYnMtbWVudT5saS5hY3RpdmUnKTtcclxuICAgICAgICBpZiggdGFiQWN0aXZlLmxlbmd0aCA+IDAgKXtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJBY3RpdmUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB0YWJfaWQgPSAkKHRhYkFjdGl2ZVtpXSkuY2hpbGRyZW4oKS5hdHRyKCdocmVmJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCh0YWJfaWQpLmFkZENsYXNzKCdhY3RpdmUnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoJy50YWJzLW1lbnUgYScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB2YXIgdGFiID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIHRhYl9pZCA9IHRhYi5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgIHZhciB0YWJfd3JhcCA9IHRhYi5jbG9zZXN0KCcudGFicycpO1xyXG4gICAgICAgICAgICB2YXIgdGFiX2NvbnRlbnQgPSB0YWJfd3JhcC5maW5kKCcudGFiLWNvbnRlbnQnKTtcclxuXHJcbiAgICAgICAgICAgIHRhYi5wYXJlbnQoKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgdGFiLnBhcmVudCgpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0YWJfY29udGVudC5ub3QodGFiX2lkKS5yZW1vdmVDbGFzcygnYWN0aXZlJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKHRhYl9pZCkuYWRkQ2xhc3MoJ2FjdGl2ZScpLmZhZGVJbig1MDApO1xyXG5cclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAxNC4wIC0gVG9nZ2xlQm94XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIHRvZ2dsZWJveEFjdGl2ZSA9ICQoJy50b2dnbGVib3g+bGkuYWN0aXZlJyk7XHJcbiAgICAgICAgaWYoIHRvZ2dsZWJveEFjdGl2ZS5sZW5ndGggPiAwICl7XHJcbiAgICAgICAgICAgIHRvZ2dsZWJveEFjdGl2ZS5maW5kKCcudG9nZ2xlYm94LWNvbnRlbnQnKS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKCcudG9nZ2xlYm94LWhlYWRlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciB0b2dnbGVfaGVhZCA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0b2dnbGVfaGVhZC5uZXh0KCcudG9nZ2xlYm94LWNvbnRlbnQnKS5zbGlkZVRvZ2dsZSgzMDApO1xyXG4gICAgICAgICAgICB0b2dnbGVfaGVhZC5wYXJlbnQoKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAxNS4wIC0gQWNjb3JkZW9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIGFjY29yZGVvbkFjdGl2ZSA9ICQoJy5hY2NvcmRpb24+bGkuYWN0aXZlJyk7XHJcbiAgICAgICAgaWYoIGFjY29yZGVvbkFjdGl2ZS5sZW5ndGggPiAwICl7XHJcbiAgICAgICAgICAgIGFjY29yZGVvbkFjdGl2ZS5maW5kKCcuYWNjb3JkaW9uLWNvbnRlbnQnKS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKCcuYWNjb3JkaW9uLWhlYWRlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBhY2NfaGVhZCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIHZhciBhY2Nfc2VjdGlvbiA9IGFjY19oZWFkLnBhcmVudCgpO1xyXG4gICAgICAgICAgICB2YXIgYWNjX2NvbnRlbnQgPSBhY2NfaGVhZC5uZXh0KCk7XHJcbiAgICAgICAgICAgIHZhciBhY2NfYWxsX2NvbnRlbnRzID0gYWNjX2hlYWQuY2xvc2VzdCgnLmFjY29yZGlvbicpLmZpbmQoJy5hY2NvcmRpb24tY29udGVudCcpO1xyXG5cclxuICAgICAgICAgICAgaWYoYWNjX3NlY3Rpb24uaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgICAgIGFjY19zZWN0aW9uLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGFjY19jb250ZW50LnNsaWRlVXAoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBhY2Nfc2VjdGlvbi5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGFjY19zZWN0aW9uLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGFjY19hbGxfY29udGVudHMuc2xpZGVVcCgzMDApO1xyXG4gICAgICAgICAgICAgICAgYWNjX2NvbnRlbnQuc2xpZGVEb3duKDMwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogMTYuMCAtIENvbW1lbnRzIE9wZW4vQ2xvc2VcclxuICAgICAgICAgKi9cclxuICAgICAgICAkKCcuY29tbWVudC1yZXBseXMtbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLmNvbW1lbnQnKS50b2dnbGVDbGFzcygnc2hvdy1yZXBsaWVzJyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIDE3LjAgLSBQb3J0Zm9saW8gUG9wdXBcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgcGZfcG9wdXAgPSB7fTtcclxuICAgICAgICBwZl9wb3B1cC53cmFwcGVyID0gbnVsbDtcclxuICAgICAgICBwZl9wb3B1cC5jb250ZW50ID0gbnVsbDtcclxuICAgICAgICBwZl9wb3B1cC5zbGlkZXIgPSBudWxsO1xyXG5cclxuICAgICAgICBwZl9wb3B1cC5vcGVuID0gZnVuY3Rpb24gKCBlbCApe1xyXG4gICAgICAgICAgICAvLyBBcHBlbmQgUG9ydGZvbGlvIFBvcHVwXHJcbiAgICAgICAgICAgIHRoaXMud3JhcHBlciA9ICQoJzxkaXYgaWQ9XCJwZi1wb3B1cC13cmFwXCIgY2xhc3M9XCJwZi1wb3B1cC13cmFwXCI+JytcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwZi1wb3B1cC1pbm5lclwiPicrXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicGYtcG9wdXAtbWlkZGxlXCI+JytcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwZi1wb3B1cC1jb250YWluZXJcIj4nK1xyXG4gICAgICAgICAgICAnPGJ1dHRvbiBpZD1cInBmLXBvcHVwLWNsb3NlXCI+PGkgY2xhc3M9XCJyc2ljb24gcnNpY29uLWNsb3NlXCI+PC9pPjwvYnV0dG9uPicrXHJcbiAgICAgICAgICAgICc8ZGl2IGlkPVwicGYtcG9wdXAtY29udGVudFwiIGNsYXNzPVwicGYtcG9wdXAtY29udGVudFwiPjwvZGl2PicrXHJcbiAgICAgICAgICAgICc8L2Rpdj4nK1xyXG4gICAgICAgICAgICAnPC9kaXY+JytcclxuICAgICAgICAgICAgJzwvZGl2PicpO1xyXG5cclxuICAgICAgICAgICAgYWNlLmJvZHkuYXBwZW5kKHRoaXMud3JhcHBlcik7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgUG9ydGZvbGlvIFBvcHVwIEl0ZW1zXHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudCA9ICQoJyNwZi1wb3B1cC1jb250ZW50Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5hcHBlbmQoIGVsLmNsb25lKCkgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1ha2UgUG9ydGZvbGlvIFBvcHVwIFZpc2libGVcclxuICAgICAgICAgICAgcGZfcG9wdXAud3JhcHBlci5hZGRDbGFzcygnb3BlbmVkJyk7XHJcbiAgICAgICAgICAgIGFjZV9sb2NrX3Njcm9sbCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHBmX3BvcHVwLmNsb3NlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy53cmFwcGVyLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgcGZfcG9wdXAud3JhcHBlci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIGFjZV91bmxvY2tfc2Nyb2xsKCk7XHJcbiAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gT3BlbiBQb3J0Zm9saW8gUG9wdXBcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnBmLWJ0bi12aWV3JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG4gICAgICAgICAgICBwZl9wb3B1cC5vcGVuKCAkKGlkKSApO1xyXG5cclxuICAgICAgICAgICAgYWNlLmh0bWwuYWRkQ2xhc3MoJ2FjZS1wb3J0Zm9saW8tb3BlbmVkJyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENsb3NlIFBvcnRmb2xpbyBQb3B1cFxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCd0b3VjaHN0YXJ0IGNsaWNrJywgJy5hY2UtcG9ydGZvbGlvLW9wZW5lZCAjcGYtcG9wdXAtd3JhcCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSAkKCcjcGYtcG9wdXAtY29udGVudCcpO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgaXNuJ3QgdGhlIGNvbnRhaW5lci4uLiBub3IgYSBkZXNjZW5kYW50IG9mIHRoZSBjb250YWluZXJcclxuICAgICAgICAgICAgaWYgKCFjb250YWluZXIuaXMoZS50YXJnZXQpICYmIGNvbnRhaW5lci5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcGZfcG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIGFjZS5odG1sLnJlbW92ZUNsYXNzKCdhY2UtcG9ydGZvbGlvLW9wZW5lZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIDE4LjAgU2hvdyBDb2RlIDxwcmU+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJCgnLnRvZ2dsZS1saW5rJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XHJcblxyXG4gICAgICAgICAgICBpZigkKHRoaXMpLmhhc0NsYXNzKCdvcGVuZWQnKSl7XHJcbiAgICAgICAgICAgICAgICAkKGlkKS5zbGlkZVVwKDUwMCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoaWQpLnNsaWRlRG93big1MDApO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnb3BlbmVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogMTkuMCBTaG93IENvZGUgPHByZT5cclxuICAgICAgICAgKi9cclxuICAgICAgICAkKCcjYnRuLXNoYXJlJykub24oIFwibW91c2VlbnRlclwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdob3ZlcmVkJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5hY2Utc2hhcmUtYm94Jykub24oIFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgc2hhcmVfYm94ID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHNoYXJlX2JveC5oYXNDbGFzcygnaG92ZXJlZCcpKXtcclxuICAgICAgICAgICAgICAgIHNoYXJlX2JveC5hZGRDbGFzcygnY2xvc2luZycpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaGFyZV9ib3gucmVtb3ZlQ2xhc3MoJ2hvdmVyZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBzaGFyZV9ib3gucmVtb3ZlQ2xhc3MoJ2Nsb3NpbmcnKTtcclxuICAgICAgICAgICAgICAgIH0sMzAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pOyAvLyBlbmQ6IGRvY3VtZW50IHJlYWR5XHJcblxyXG5cclxuXHJcblxyXG4gICAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7IC8vIFN0YXJ0OiBXaW5kb3cgUmVzaXplXHJcbiAgICAgICAgYWNlX2hlYWRlcl9pbml0KGFjZS5oZWFkZXIuaGVhZCwgYWNlLmhlYWRlci5jb2wxLCBhY2UuaGVhZGVyLmNvbDIsIGFjZS5oZWFkZXIuY29sMyk7XHJcbiAgICB9KTsgLy8gRW5kOiBXaW5kb3cgUmVzaXplXHJcblxyXG5cclxuXHJcbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7IC8vIFN0YXJ0OiBXaW5kb3cgTG9hZFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdyaWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgcGZfZ3JpZCA9ICQoJy5wZi1ncmlkJyk7XHJcbiAgICAgICAgaWYgKHBmX2dyaWQubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgLy8gSXNvdG9wZSBJbml0aWFsaXphdGlvblxyXG4gICAgICAgICAgICB2YXIgZ3JpZCA9IHBmX2dyaWQuaXNvdG9wZSh7XHJcbiAgICAgICAgICAgICAgICBpc09yaWdpbkxlZnQ6ICFhY2VPcHRpb25zLnJ0bCxcclxuICAgICAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5wZi1ncmlkLWl0ZW0nLFxyXG4gICAgICAgICAgICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWFzb25yeToge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoOiAnLnBmLWdyaWQtc2l6ZXInXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZpbHRlciA9ICQoJy5wZi1maWx0ZXInKTtcclxuICAgICAgICAgICAgaWYgKGZpbHRlci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyX2J0biA9IGZpbHRlci5maW5kKCdidXR0b24nKTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJfYnRuX2ZpcnN0ID0gJCgnLnBmLWZpbHRlciBidXR0b246Zmlyc3QtY2hpbGQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYnRuX2ZpcnN0LmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJfYnRuLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlclZhbHVlID0gJCh0aGlzKS5hdHRyKCdkYXRhLWZpbHRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWQuaXNvdG9wZSh7IGZpbHRlcjogZmlsdGVyVmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcGZfZ3JpZC5hZGRDbGFzcygnbG9hZGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRnVuY3Rpb25zXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKiBEZXRlY3QgRGV2aWNlIFR5cGUgKi9cclxuICAgIGZ1bmN0aW9uIGFjZV9kZXRlY3RfZGV2aWNlX3R5cGUoKSB7XHJcbiAgICAgICAgaWYgKC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xyXG4gICAgICAgICAgICBhY2UubW9iaWxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgYWNlLmh0bWwuYWRkQ2xhc3MoJ2FjZS1tb2JpbGUnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhY2UubW9iaWxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFjZS5odG1sLmFkZENsYXNzKCdhY2UtZGVza3RvcCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiBJbml0IEhlYWRlciAqL1xyXG4gICAgZnVuY3Rpb24gYWNlX2hlYWRlcl9pbml0KGhlYWQsIGNvbDEsIGNvbDIsIGNvbDMpIHtcclxuICAgICAgICB2YXIgY29sMV93ID0gY29sMS5maW5kKCcjYWNlLWxvZ28nKS53aWR0aCgpICsgMTU7XHJcbiAgICAgICAgdmFyIGNvbDNfdyA9IGNvbDMuZmluZCgnI2FjZS1zaWRlYmFyLWJ0bicpLndpZHRoKCkgKyAxNTtcclxuXHJcbiAgICAgICAgaWYgKGhlYWQuaGFzQ2xhc3MoJ2FjZS1oZWFkLWJveGVkJykgJiYgaGVhZC5oYXNDbGFzcygnYWNlLWxvZ28tb3V0JykgfHwgaGVhZC5oYXNDbGFzcygnYWNlLWhlYWQtZnVsbCcpICYmIGNvbDIuaGFzQ2xhc3MoJ3RleHQtY2VudGVyJykpIHtcclxuICAgICAgICAgICAgLy8gSGVhZGVyIEJveGVkIC8gTG9nbyBPdXRcclxuICAgICAgICAgICAgaWYgKGNvbDFfdyA+PSBjb2wzX3cpIHtcclxuICAgICAgICAgICAgICAgIGNvbDEud2lkdGgoY29sMV93KTtcclxuICAgICAgICAgICAgICAgIGNvbDMud2lkdGgoY29sMV93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEhlYWRlciBCb3hlZCAvIExvZ28gSW5cclxuICAgICAgICAgICAgY29sMS53aWR0aChjb2wxX3cpO1xyXG4gICAgICAgICAgICBjb2wzLndpZHRoKGNvbDNfdyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIEFjZSBPdmVybGF5ICovXHJcbiAgICBmdW5jdGlvbiBhY2VfYXBwZW5kX292ZXJsYXkoKSB7XHJcbiAgICAgICAgYWNlLmJvZHkuYXBwZW5kKGFjZS5vdmVybGF5Lm9iaik7XHJcblxyXG4gICAgICAgIC8vIE1ha2UgdGhlIGVsZW1lbnQgZnVsbHkgdHJhbnNwYXJlbnRcclxuICAgICAgICBhY2Uub3ZlcmxheS5vYmpbMF0uc3R5bGUub3BhY2l0eSA9IDA7XHJcblxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaW5pdGlhbCBzdGF0ZSBpcyBhcHBsaWVkXHJcbiAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUoYWNlLm92ZXJsYXkub2JqWzBdKS5vcGFjaXR5O1xyXG5cclxuICAgICAgICAvLyBGYWRlIGl0IGluXHJcbiAgICAgICAgYWNlLm92ZXJsYXkub2JqWzBdLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFjZV9yZW1vdmVfb3ZlcmxheSgpIHtcclxuICAgICAgICAvLyBGYWRlIGl0IG91dFxyXG4gICAgICAgIGFjZS5vdmVybGF5Lm9ialswXS5zdHlsZS5vcGFjaXR5ID0gMDtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIG92ZXJsYXlcclxuICAgICAgICBhY2Uub3ZlcmxheS5vYmoucmVtb3ZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQWNlIExvY2sgU2Nyb2xsICovXHJcbiAgICBmdW5jdGlvbiBhY2VfbG9ja19zY3JvbGwoKSB7XHJcbiAgICAgICAgdmFyIGluaXRXaWR0aCA9IGFjZS5odG1sLm91dGVyV2lkdGgoKTtcclxuICAgICAgICB2YXIgaW5pdEhlaWdodCA9IGFjZS5ib2R5Lm91dGVySGVpZ2h0KCk7XHJcblxyXG4gICAgICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IFtcclxuICAgICAgICAgICAgc2VsZi5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsXHJcbiAgICAgICAgICAgIHNlbGYucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGFjZS5odG1sLmRhdGEoJ3Njcm9sbC1wb3NpdGlvbicsIHNjcm9sbFBvc2l0aW9uKTtcclxuICAgICAgICBhY2UuaHRtbC5kYXRhKCdwcmV2aW91cy1vdmVyZmxvdycsIGFjZS5odG1sLmNzcygnb3ZlcmZsb3cnKSk7XHJcbiAgICAgICAgYWNlLmh0bWwuY3NzKCdvdmVyZmxvdycsICdoaWRkZW4nKTtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsUG9zaXRpb25bMF0sIHNjcm9sbFBvc2l0aW9uWzFdKTtcclxuXHJcbiAgICAgICAgdmFyIG1hcmdpblIgPSBhY2UuYm9keS5vdXRlcldpZHRoKCkgLSBpbml0V2lkdGg7XHJcbiAgICAgICAgdmFyIG1hcmdpbkIgPSBhY2UuYm9keS5vdXRlckhlaWdodCgpIC0gaW5pdEhlaWdodDtcclxuICAgICAgICBhY2UuYm9keS5jc3MoeydtYXJnaW4tcmlnaHQnOiBtYXJnaW5SLCAnbWFyZ2luLWJvdHRvbSc6IG1hcmdpbkJ9KTtcclxuICAgICAgICBhY2UuaHRtbC5hZGRDbGFzcygnYWNlLWxvY2stc2Nyb2xsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQWNlIFVubG9jayBTY3JvbGwgKi9cclxuICAgIGZ1bmN0aW9uIGFjZV91bmxvY2tfc2Nyb2xsKCkge1xyXG4gICAgICAgIGFjZS5odG1sLmNzcygnb3ZlcmZsb3cnLCBhY2UuaHRtbC5kYXRhKCdwcmV2aW91cy1vdmVyZmxvdycpKTtcclxuICAgICAgICB2YXIgc2Nyb2xsUG9zaXRpb24gPSBhY2UuaHRtbC5kYXRhKCdzY3JvbGwtcG9zaXRpb24nKTtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsUG9zaXRpb25bMF0sIHNjcm9sbFBvc2l0aW9uWzFdKTtcclxuXHJcbiAgICAgICAgYWNlLmJvZHkuY3NzKHsnbWFyZ2luLXJpZ2h0JzogMCwgJ21hcmdpbi1ib3R0b20nOiAwfSk7XHJcbiAgICAgICAgYWNlLmh0bWwucmVtb3ZlQ2xhc3MoJ2FjZS1sb2NrLXNjcm9sbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIEFjZSBDbG9zZSBTaWRlYmFyICovXHJcbiAgICBmdW5jdGlvbiBhY2Vfb3Blbl9zaWRlYmFyKCkge1xyXG4gICAgICAgIGFjZS5odG1sLmFkZENsYXNzKCdhY2Utc2lkZWJhci1vcGVuZWQnKTtcclxuICAgICAgICBhY2VfYXBwZW5kX292ZXJsYXkoKTtcclxuICAgICAgICBhY2VfbG9ja19zY3JvbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhY2VfY2xvc2Vfc2lkZWJhcigpIHtcclxuICAgICAgICBhY2UuaHRtbC5yZW1vdmVDbGFzcygnYWNlLXNpZGViYXItb3BlbmVkJyk7XHJcbiAgICAgICAgYWNlX3JlbW92ZV9vdmVybGF5KCk7XHJcbiAgICAgICAgYWNlX3VubG9ja19zY3JvbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBBY2UgUHJvZ3Jlc3MgQ2lyY2xlICovXHJcbiAgICBmdW5jdGlvbiBhY2VfcHJvZ3Jlc3NfY2hhcnQoZWxlbWVudCwgdGV4dCwgdmFsdWUsIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgdmFyIGNpcmNsZSA9IG5ldyBQcm9ncmVzc0Jhci5DaXJjbGUoZWxlbWVudCwge1xyXG4gICAgICAgICAgICBjb2xvcjogYWNlT3B0aW9ucy5jb2xvcixcclxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDUsXHJcbiAgICAgICAgICAgIHRyYWlsV2lkdGg6IDAsXHJcbiAgICAgICAgICAgIHRleHQ6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0ZXh0LFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncHJvZ3Jlc3MtdGV4dCcsXHJcbiAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogJzUwJScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogJzUwJScsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGFjZU9wdGlvbnMucHJvZ3Jlc3MudGV4dENvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCxcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXg6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhdXRvU3R5bGVDb250YWluZXI6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhbGlnblRvQm90dG9tOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN2Z1N0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXQnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNpcmNsZS5hbmltYXRlKHZhbHVlKTsgLy8gTnVtYmVyIGZyb20gMC4wIHRvIDEuMFxyXG4gICAgfVxyXG5cclxuICAgIC8qIEFjZSBQcm9ncmVzcyBMaW5lICovXHJcbiAgICBmdW5jdGlvbiBhY2VfcHJvZ3Jlc3NfbGluZShlbGVtZW50LCB0ZXh0LCB2YWx1ZSwgZHVyYXRpb24pIHtcclxuICAgICAgICB2YXIgbGluZSA9IG5ldyBQcm9ncmVzc0Jhci5MaW5lKGVsZW1lbnQsIHtcclxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDQsXHJcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VJbk91dCcsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgICAgICAgICAgY29sb3I6IGFjZU9wdGlvbnMuY29sb3IsXHJcbiAgICAgICAgICAgIHRyYWlsQ29sb3I6IGFjZU9wdGlvbnMucHJvZ3Jlc3MudHJhaWxDb2xvcixcclxuICAgICAgICAgICAgdHJhaWxXaWR0aDogNCxcclxuICAgICAgICAgICAgc3ZnU3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0ZXh0OiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGV4dCxcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3Byb2dyZXNzLXRleHQnLFxyXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICB0b3A6ICctMjVweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6ICcwJyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogYWNlT3B0aW9ucy5wcm9ncmVzcy50ZXh0Q29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICd0cmFuc2xhdGUoMCwgMCknXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGF1dG9TdHlsZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxpbmUuYW5pbWF0ZSh2YWx1ZSk7ICAvLyBOdW1iZXIgZnJvbSAwLjAgdG8gMS4wXHJcbiAgICB9XHJcblxyXG4gICAgLyogQWNlIEVsZW1lbnQgSW4gVmlld3BvcnQgKi9cclxuICAgIGZ1bmN0aW9uIGFjZV9pc19lbGVtX2luX3ZpZXdwb3J0KGVsLCB2cGFydCkge1xyXG4gICAgICAgIHZhciByZWN0ID0gZWxbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgcmVjdC5ib3R0b20gPj0gMCAmJlxyXG4gICAgICAgIHJlY3QucmlnaHQgPj0gMCAmJlxyXG4gICAgICAgIHJlY3QudG9wICsgdnBhcnQgPD0gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSAmJlxyXG4gICAgICAgIHJlY3QubGVmdCA8PSAod2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWNlX2lzX2VsZW1zX2luX3ZpZXdwb3J0KGVsZW1zLCB2cGFydCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSAkKGVsZW1zW2ldKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtLmhhc0NsYXNzKCdhY2UtYW5pbWF0ZScpICYmIGFjZV9pc19lbGVtX2luX3ZpZXdwb3J0KGl0ZW0sIHZwYXJ0KSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5yZW1vdmVDbGFzcygnYWNlLWFuaW1hdGUnKS5hZGRDbGFzcygnYWNlLWFuaW1hdGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQW5pbWF0ZSBDaXJjbGUgQ2hhcnRcclxuICAgICAgICAgICAgICAgIGlmKGl0ZW0uaGFzQ2xhc3MoJ3Byb2dyZXNzLWNoYXJ0Jykpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFydCA9IGl0ZW0uZmluZCgnLnByb2dyZXNzLWJhcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjZV9wcm9ncmVzc19jaGFydChjaGFydFswXSwgY2hhcnQuZGF0YSgndGV4dCcpLCBjaGFydC5kYXRhKCd2YWx1ZScpLCAxMDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBbmltYXRlIExpbmUgQ2hhcnRcclxuICAgICAgICAgICAgICAgIGlmKGl0ZW0uaGFzQ2xhc3MoJ3Byb2dyZXNzLWxpbmUnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBpdGVtLmZpbmQoJy5wcm9ncmVzcy1iYXInKTtcclxuICAgICAgICAgICAgICAgICAgICBhY2VfcHJvZ3Jlc3NfbGluZShsaW5lWzBdLCBsaW5lLmRhdGEoJ3RleHQnKSwgbGluZS5kYXRhKCd2YWx1ZScpLCAxMDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhY2VfYXBwZWFyX2VsZW1zKGVsZW1zLCB2cGFydCkge1xyXG4gICAgICAgIGFjZV9pc19lbGVtc19pbl92aWV3cG9ydChlbGVtcywgdnBhcnQpO1xyXG5cclxuICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYWNlX2lzX2VsZW1zX2luX3ZpZXdwb3J0KGVsZW1zLCB2cGFydCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhY2VfaXNfZWxlbXNfaW5fdmlld3BvcnQoZWxlbXMsIHZwYXJ0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBBY2UgR29vZ2xlIE1hcCAqL1xyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZUdvb2dsZU1hcCgpIHtcclxuICAgICAgICB2YXIgbGF0bG5nO1xyXG4gICAgICAgIHZhciBsYXQgPSA0NC41NDAzO1xyXG4gICAgICAgIHZhciBsbmcgPSAtNzguNTQ2MztcclxuICAgICAgICB2YXIgbWFwID0gJCgnI21hcCcpO1xyXG4gICAgICAgIHZhciBtYXBDYW52YXMgPSBtYXAuZ2V0KDApO1xyXG4gICAgICAgIHZhciBtYXBfc3R5bGVzID0gW1xyXG4gICAgICAgICAgICB7XCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0XCIsIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICB7XCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCJ9XHJcbiAgICAgICAgICAgIF19LFxyXG4gICAgICAgICAgICB7XCJmZWF0dXJlVHlwZVwiOiBcImxhbmRzY2FwZS5uYXR1cmFsXCIsIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeS5maWxsXCIsIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICB7XCJjb2xvclwiOiBcIiNmNWY1ZjJcIn0sXHJcbiAgICAgICAgICAgICAgICB7XCJ2aXNpYmlsaXR5XCI6IFwib25cIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwiYWRtaW5pc3RyYXRpdmVcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcInZpc2liaWxpdHlcIjogXCJvZmZcIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdFwiLCBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAge1widmlzaWJpbGl0eVwiOiBcIm9mZlwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJwb2kuYXR0cmFjdGlvblwiLCBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAge1widmlzaWJpbGl0eVwiOiBcIm9mZlwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJsYW5kc2NhcGUubWFuX21hZGVcIiwgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5LmZpbGxcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcImNvbG9yXCI6IFwiI2ZmZmZmZlwifSxcclxuICAgICAgICAgICAgICAgIHtcInZpc2liaWxpdHlcIjogXCJvblwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJwb2kuYnVzaW5lc3NcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcInZpc2liaWxpdHlcIjogXCJvZmZcIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwicG9pLm1lZGljYWxcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcInZpc2liaWxpdHlcIjogXCJvZmZcIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwicG9pLnBsYWNlX29mX3dvcnNoaXBcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcInZpc2liaWxpdHlcIjogXCJvZmZcIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwicG9pLnNjaG9vbFwiLCBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAge1widmlzaWJpbGl0eVwiOiBcIm9mZlwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJwb2kuc3BvcnRzX2NvbXBsZXhcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcInZpc2liaWxpdHlcIjogXCJvZmZcIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5oaWdod2F5XCIsIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLCBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAge1wiY29sb3JcIjogXCIjZmZmZmZmXCJ9LFxyXG4gICAgICAgICAgICAgICAge1widmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5hcnRlcmlhbFwiLCBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAge1widmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIn0sXHJcbiAgICAgICAgICAgICAgICB7XCJjb2xvclwiOiBcIiNmZmZmZmZcIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5oaWdod2F5XCIsIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMuaWNvblwiLCBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAge1wiY29sb3JcIjogXCIjZmZmZmZmXCJ9LFxyXG4gICAgICAgICAgICAgICAge1widmlzaWJpbGl0eVwiOiBcIm9mZlwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmhpZ2h3YXlcIiwgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy5pY29uXCIsIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICB7XCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCJ9XHJcbiAgICAgICAgICAgIF19LFxyXG4gICAgICAgICAgICB7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuYXJ0ZXJpYWxcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcImNvbG9yXCI6IFwiI2ZmZmZmZlwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmxvY2FsXCIsIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICB7XCJjb2xvclwiOiBcIiNmZmZmZmZcIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwicG9pLnBhcmtcIiwgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy5pY29uXCIsIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICB7XCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCJ9XHJcbiAgICAgICAgICAgIF19LFxyXG4gICAgICAgICAgICB7XCJmZWF0dXJlVHlwZVwiOiBcInBvaVwiLCBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLmljb25cIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcInZpc2liaWxpdHlcIjogXCJvZmZcIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwid2F0ZXJcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcImNvbG9yXCI6IFwiIzcxYzhkNFwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJsYW5kc2NhcGVcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcImNvbG9yXCI6IFwiI2U1ZThlN1wifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJwb2kucGFya1wiLCBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAge1wiY29sb3JcIjogXCIjOGJhMTI5XCJ9XHJcbiAgICAgICAgICAgIF19LFxyXG4gICAgICAgICAgICB7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWRcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcImNvbG9yXCI6IFwiI2ZmZmZmZlwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJwb2kuc3BvcnRzX2NvbXBsZXhcIiwgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICB7XCJjb2xvclwiOiBcIiNjN2M3YzdcIn0sXHJcbiAgICAgICAgICAgICAgICB7XCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCJ9XHJcbiAgICAgICAgICAgIF19LFxyXG4gICAgICAgICAgICB7XCJmZWF0dXJlVHlwZVwiOiBcIndhdGVyXCIsIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICB7XCJjb2xvclwiOiBcIiNhMGQzZDNcIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwicG9pLnBhcmtcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcImNvbG9yXCI6IFwiIzkxYjY1ZFwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJwb2kucGFya1wiLCBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAge1wiZ2FtbWFcIjogMS41MX1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5sb2NhbFwiLCBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAge1widmlzaWJpbGl0eVwiOiBcIm9mZlwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmxvY2FsXCIsIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLCBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAge1widmlzaWJpbGl0eVwiOiBcIm9uXCJ9XHJcbiAgICAgICAgICAgIF19LFxyXG4gICAgICAgICAgICB7XCJmZWF0dXJlVHlwZVwiOiBcInBvaS5nb3Zlcm5tZW50XCIsIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLCBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAge1widmlzaWJpbGl0eVwiOiBcIm9mZlwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJsYW5kc2NhcGVcIiwgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIHtcInZpc2liaWxpdHlcIjogXCJvZmZcIn1cclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtcImZlYXR1cmVUeXBlXCI6IFwicm9hZFwiLCBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzXCIsIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICB7XCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCJ9XHJcbiAgICAgICAgICAgIF19LFxyXG4gICAgICAgICAgICB7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuYXJ0ZXJpYWxcIiwgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICB7XCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmxvY2FsXCIsIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICB7XCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwifVxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkXCJ9LFxyXG4gICAgICAgICAgICB7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWRcIn0sXHJcbiAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICB7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheVwifVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGlmIChtYXAuZGF0YShcImxhdGl0dWRlXCIpKSBsYXQgPSBtYXAuZGF0YShcImxhdGl0dWRlXCIpO1xyXG4gICAgICAgIGlmIChtYXAuZGF0YShcImxvbmdpdHVkZVwiKSkgbG5nID0gbWFwLmRhdGEoXCJsb25naXR1ZGVcIik7XHJcblxyXG4gICAgICAgIGxhdGxuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsbmcpO1xyXG5cclxuICAgICAgICAvLyBNYXAgT3B0aW9uc1xyXG4gICAgICAgIHZhciBtYXBPcHRpb25zID0ge1xyXG4gICAgICAgICAgICB6b29tOiAxNCxcclxuICAgICAgICAgICAgY2VudGVyOiBsYXRsbmcsXHJcbiAgICAgICAgICAgIHNjcm9sbHdoZWVsOiB0cnVlLFxyXG4gICAgICAgICAgICBtYXBUeXBlSWQ6IGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQLFxyXG4gICAgICAgICAgICBzdHlsZXM6IG1hcF9zdHlsZXNcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGhlIE1hcFxyXG4gICAgICAgIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwQ2FudmFzLCBtYXBPcHRpb25zKTtcclxuXHJcbiAgICAgICAgLyp2YXIgbWFya2VyID0gbmV3IE1hcmtlcih7XHJcbiAgICAgICAgIG1hcDogbWFwLFxyXG4gICAgICAgICBwb3NpdGlvbjogbGF0bG5nLFxyXG4gICAgICAgICBpY29uOiB7XHJcbiAgICAgICAgIHBhdGg6IFNRVUFSRV9QSU4sXHJcbiAgICAgICAgIGZpbGxDb2xvcjogJycsXHJcbiAgICAgICAgIGZpbGxPcGFjaXR5OiAwLFxyXG4gICAgICAgICBzdHJva2VDb2xvcjogJycsXHJcbiAgICAgICAgIHN0cm9rZVdlaWdodDogMFxyXG4gICAgICAgICB9LFxyXG4gICAgICAgICBtYXBfaWNvbl9sYWJlbDogJzxzcGFuIGNsYXNzPVwibWFwLWljb24gbWFwLWljb24tcG9zdGFsLWNvZGVcIj48L3NwYW4+J1xyXG4gICAgICAgICB9KTsqL1xyXG5cclxuICAgICAgICAvLyBLZWVwIE1hcmtlciBpbiBDZW50ZXJcclxuICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih3aW5kb3csICdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIobGF0bG5nKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG59KShqUXVlcnkpOyJdfQ==
